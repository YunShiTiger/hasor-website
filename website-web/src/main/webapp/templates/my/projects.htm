<link rel="stylesheet" href="${ctx_path}/static/website/css/projects.htm.css">
<#include "/control/editor_md.htm"/>
<!-- -->
<div class="w200px flowLeft">
    <div class="list-group">
        <a href="${ctx_path}/my/newProject.htm" class="list-group-item list-group-item-info">创建新项目</a>
        <#list projectList as item>
            <#assign activeCss=""/>
            <#if project?? && item.id == project.id>
                <#assign activeCss="list-group-item-warning"/>
            </#if>
            <a class="list-group-item ${activeCss}" href="${ctx_path}/my/projects.htm?curProjectID=${item.id}">
                <span class="badge">14</span>
                ${item.name}
            </a>
        </#list>
    </div>
</div>
<div style="padding-left: 210px;">
    <#if project?? >
        <!-- 详情 -->
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">详情</h3>
            </div>
            <div class="panel-body">
                <div class="input-group">
                    <span class="input-group-addon">项目</span>
                    <input type="text" class="form-control" value="${project.name}"/>
                </div>
                <div class="input-group">
                    <span class="input-group-addon">标题</span>
                    <input type="text" class="form-control" value="${project.subtitle}"/>
                    <span class="input-group-addon">${project.contentFormat.desc}</span>
                </div>
                <script>
                    $(function () {
                        initEditor("blogEditor");
                    });
                </script>
                <div id='blogEditor'>${project.present}</div>
                <div>
                    <span class="col-sm-1 label label-success">父&nbsp;项&nbsp;目</span>&nbsp;
                    <a href="${ctx_path}/my/projects.htm?curProjectID=${project.parentID}">${project.parentID}</a>
                </div>
                <div>
                    <span class="col-sm-1 label label-success">活跃状态</span>&nbsp;${project.status.desc}
                </div>
                <div>
                    <span class="col-sm-1 label label-success">首页链接</span>&nbsp;${project.homePage}
                </div>
                <div>
                    <span class="col-sm-1 label label-success">下载链接</span>&nbsp;${project.downPage}
                </div>
                <div>
                    <span class="col-sm-1 label label-success">项目类型</span>&nbsp;${project.sourceType.desc}
                </div>
                <div>
                    <span class="col-sm-1 label label-success">主要语言</span>&nbsp;${project.language}
                </div>
                <div>
                    <span class="col-sm-1 label label-success">授权协议</span>&nbsp;${project.license}
                </div>
                <div>
                    <span class="col-sm-1 label label-success">创建时间</span>&nbsp;${project.createTime?string("yyyy-MM-dd HH:mm:ss")}
                </div>
                <div>
                    <span class="col-sm-1 label label-success">修改时间</span>&nbsp;${project.modifyTime?string("yyyy-MM-dd HH:mm:ss")}
                </div>
            </div>
        </div>
        <!-- 版本信息 -->
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">版本信息
                    <a href="${ctx_path}/my/newVersion.htm?projectID=${project.id}">
                        <span class="badge flowRight">添加</span>
                    </a>
                </h3>
            </div>
            <div class="list-group">
                <#list versionList as ver>
                    <div class="list-group-item">
                        <a class="flowRight"><span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span></a>
                        <a class="flowRight"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
                        <a class="flowRight"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span></a>
                        <a class="flowRight"><span class="glyphicon glyphicon-cloud-upload" aria-hidden="true"></span></a>
                        <a href="#">
                            <h4 class="list-group-item-heading">${ver.version} - ${ver.subtitle}</h4>
                            <p class="list-group-item-text">状态:${ver.status.desc} - 发布时间：${ver.releaseTime?string("yyyy-MM-dd HH:mm:ss")}</p>
                        </a>
                    </div>
                </#list>
                <#if !versionList?? || (versionList?size = 0) >
                    <a href="#" class="list-group-item">
                        <h4 class="list-group-item-heading">尚未发布任何版本</h4>
                    </a>
                </#if>
                <#if versionErrorMessage??>
                    <a href="#" class="list-group-item">
                        <h4 class="list-group-item-heading">版本数据加载错误：${versionErrorMessage.getMessage()}</h4>
                    </a>
                </#if>
            </div>
        </div>
        <!-- 操作 -->
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">操作</h3>
            </div>
            <div class="panel-body">
                [<a>保存</a>]
                [<a>删除项目</a>]
                [<a>推送到首页</a>]
                [<a>转移</a>]
                [<a>新增版本</a>]
            </div>
        </div>

    </#if>
    <#if !project?? >
        您还没有创建任何项目，请[<a>创建新项目</a>]。
    </#if>
</div>